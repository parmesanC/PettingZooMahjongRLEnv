============================================================
测试reward系统 - 环境层final_scores集成
============================================================

测试1: 验证环境使用final_scores分配reward
[OK] 测试通过：环境正确使用final_scores分配reward
  最终分数: [120.0, -40.0, -40.0, -40.0]
  对应rewards: {'player_0': 1.2, 'player_1': -0.4, 'player_2': -0.4, 'player_3': -0.4}

测试2: 验证没有final_scores时的降级逻辑
[OK] 测试通过：降级逻辑在没有final_scores时正确工作
  获胜玩家: [1]
  对应rewards: {'player_0': -1.0, 'player_1': 1.0, 'player_2': -1.0, 'player_3': -1.0}

测试3: 验证流局时的reward分配
[OK] 测试通过：流局时reward正确分配
  流局查大叫分数: [30.0, -10.0, -10.0, -10.0]
  对应rewards: {'player_0': 0.3, 'player_1': -0.1, 'player_2': -0.1, 'player_3': -0.1}

============================================================
所有测试通过！
============================================================
